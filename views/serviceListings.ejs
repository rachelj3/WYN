<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WYN: Services</title>
    <link rel="stylesheet" href="stylesheets/WYN.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
</head>
<body>

    <header>
        <div class="flex-box-row" id="header-div">
            <div class="flex-box-row" id="header-left">
                <div class="flex-item">
                    <h2><a class="underlineLink" href="/serviceListings">services</a></h2>
                </div>
                <div class="flex-item">
                    <h2><a class="underlineLink" href="aboutUs.ejs">about</a></h2>
                </div>
            </div>
            <div class="flex-item" id="header-middle">
                <div class="flex-item">
                    <a href="/"><img src="images/main-logo-blue.png" id="header-logo"></a>
                </div>
            </div>
            <div class="flex-item" id="header-right">
                <% if (user) { %>
                    <!-- User is logged in, show the profile icon -->
                    <h2><a href="profile.ejs">view profile</a></h2>
                <% } else { %>
                    <!-- User is not logged in, show the login/signup button -->
                    <h2><a href="login.ejs">login/signup</a></h2>
                <% } %>
            </div>
        </div>
    </header>

        <div class="service-array">
            
            <% services.forEach(service => { %>
                <div class="service-item flex-box-column">
                    <div class="flex-item">
                        <img src="<%= service.imageURL %>">
                    </div>
                    <div class="flex-item">
                        <h3><%= service.location %></h3>
                    </div>
                    <div class="flex-item">
                        <h2 class="underlineLink"><a href="/service/<%= encodeURIComponent(service.title) %>"><%= service.title %></a></h2>
                    </div>
                    <div class="flex-item">
                        <h3><%= service.postingUser %></h3>
                    </div>
                </div>
              <% }) %>
        </div>
    
    <footer>
        <div class="flex-box-row" id="footer-div">
            <div class="flex-item">
                <h3><a class="underlineLink" href="/">home</a></h3>
            </div>
            <div class="flex-item">
                <img src="images/main-logo-white.png">
            </div>
            <div class="flex-item">
                <h3><a class="underlineLink" href="aboutUs.ejs">about us</a></h3>
            </div>
        </div>
    </footer>
</body>
</html>
